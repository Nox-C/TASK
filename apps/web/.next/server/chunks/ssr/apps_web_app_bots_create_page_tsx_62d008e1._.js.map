{"version":3,"sources":["../../../../../../apps/web/app/bots/create/page.tsx","../../../../../../apps/web/app/lib/backtesting.ts"],"sourcesContent":["'use client';\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { Api } from '../../lib/api';\nimport { Button, Card } from '@task/ui';\nimport { BacktestingService, BacktestResult } from '../../lib/backtesting';\n\ninterface Strategy {\n  id: string;\n  name: string;\n  description?: string;\n  type: 'manual' | 'automatic';\n  riskLevel: 'low' | 'medium' | 'high';\n  parameters?: Record<string, any>;\n}\n\ninterface BotConfig {\n  name: string;\n  strategyId: string;\n  mode: 'manual' | 'automatic';\n  parameters: Record<string, any>;\n  riskManagement: {\n    maxDrawdown: number;\n    stopLoss: number;\n    takeProfit: number;\n    maxPositionSize: number;\n  };\n  tradingPairs: string[];\n  active: boolean;\n}\n\nconst PRECONFIGURED_STRATEGIES: Strategy[] = [\n  {\n    id: 'dca-conservative',\n    name: 'DCA Conservative',\n    description: 'Dollar Cost Averaging with conservative risk management',\n    type: 'automatic',\n    riskLevel: 'low',\n    parameters: {\n      interval: '1h',\n      amount: 100,\n      priceThreshold: 0.02\n    }\n  },\n  {\n    id: 'momentum-trader',\n    name: 'Momentum Trader',\n    description: 'Follows market momentum with technical indicators',\n    type: 'automatic',\n    riskLevel: 'medium',\n    parameters: {\n      rsiPeriod: 14,\n      macdFast: 12,\n      macdSlow: 26\n    }\n  },\n  {\n    id: 'grid-trading',\n    name: 'Grid Trading',\n    description: 'Places buy/sell orders in a grid pattern',\n    type: 'automatic',\n    riskLevel: 'medium',\n    parameters: {\n      gridSize: 10,\n      gridSpacing: 0.01,\n      baseAmount: 50\n    }\n  },\n  {\n    id: 'custom-manual',\n    name: 'Custom Manual',\n    description: 'Fully customizable manual strategy configuration',\n    type: 'manual',\n    riskLevel: 'high',\n    parameters: {}\n  }\n];\n\nconst TRADING_PAIRS = ['BTC-USD', 'ETH-USD', 'SOL-USD', 'ADA-USD', 'DOT-USD'];\n\nexport default function CreateBotPage() {\n  const [step, setStep] = useState(1);\n  const [botConfig, setBotConfig] = useState<BotConfig>({\n    name: '',\n    strategyId: '',\n    mode: 'automatic',\n    parameters: {},\n    riskManagement: {\n      maxDrawdown: 10,\n      stopLoss: 5,\n      takeProfit: 15,\n      maxPositionSize: 1000\n    },\n    tradingPairs: ['BTC-USD'],\n    active: false\n  });\n  const [selectedStrategy, setSelectedStrategy] = useState<Strategy | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [backtestPeriod, setBacktestPeriod] = useState('Last 30 Days');\n  const [initialCapital, setInitialCapital] = useState(10000);\n  const [backtestResult, setBacktestResult] = useState<BacktestResult | null>(null);\n  const [backtestLoading, setBacktestLoading] = useState(false);\n\n  const handleStrategySelect = (strategy: Strategy) => {\n    setSelectedStrategy(strategy);\n    setBotConfig(prev => ({\n      ...prev,\n      strategyId: strategy.id,\n      mode: strategy.type,\n      parameters: { ...strategy.parameters }\n    }));\n  };\n\n  const handleParameterChange = (key: string, value: any) => {\n    setBotConfig(prev => ({\n      ...prev,\n      parameters: {\n        ...prev.parameters,\n        [key]: value\n      }\n    }));\n  };\n\n  const handleRiskManagementChange = (key: keyof BotConfig['riskManagement'], value: number) => {\n    setBotConfig(prev => ({\n      ...prev,\n      riskManagement: {\n        ...prev.riskManagement,\n        [key]: value\n      }\n    }));\n  };\n\n  const handleRunBacktest = async () => {\n    if (!selectedStrategy) return;\n    \n    setBacktestLoading(true);\n    try {\n      const period = BacktestingService.formatBacktestPeriod(backtestPeriod);\n      const result = await BacktestingService.runBacktest({\n        strategy: {\n          id: selectedStrategy.id,\n          name: selectedStrategy.name,\n          type: selectedStrategy.type,\n          parameters: botConfig.parameters\n        },\n        riskManagement: botConfig.riskManagement,\n        tradingPairs: botConfig.tradingPairs,\n        period,\n        initialCapital\n      });\n      setBacktestResult(result);\n    } catch (error) {\n      if (process.env.NODE_ENV === 'development') {\n        console.error('Backtesting failed:', error);\n      }\n      alert('Backtesting failed. Please check your parameters and try again.');\n    } finally {\n      setBacktestLoading(false);\n    }\n  };\n\n  const handleCreateBot = async () => {\n    setLoading(true);\n    try {\n      await Api.bots.create({\n        name: botConfig.name,\n        strategyId: botConfig.strategyId,\n        // Additional config would be sent to backend\n      });\n      // Redirect to bots page\n      window.location.href = '/bots';\n    } catch (error) {\n      if (process.env.NODE_ENV === 'development') {\n        console.error('Failed to create bot:', error);\n      }\n      alert('Failed to create bot. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const renderStepIndicator = () => (\n    <div className=\"flex items-center justify-center mb-8\">\n      {[1, 2, 3, 4].map((stepNum) => (\n        <div key={stepNum} className=\"flex items-center\">\n          <div\n            className={`w-10 h-10 rounded-full flex items-center justify-center font-bold ${\n              step >= stepNum\n                ? 'bg-walle-yellow text-walle-brown'\n                : 'bg-gray-600 text-gray-400'\n            }`}\n          >\n            {stepNum}\n          </div>\n          {stepNum < 4 && (\n            <div\n              className={`w-16 h-1 mx-2 ${\n                step > stepNum ? 'bg-walle-yellow' : 'bg-gray-600'\n              }`}\n            />\n          )}\n        </div>\n      ))}\n    </div>\n  );\n\n  const renderStep1 = () => (\n    <Card className=\"p-8\">\n      <div className=\"text-center mb-8\">\n        <img\n          src=\"/wall-e-icon.png\"\n          alt=\"WALL-E\"\n          className=\"w-16 h-16 mx-auto mb-4 animate-float\"\n        />\n        <h2 className=\"text-2xl font-bold text-white mb-2\">Choose Your Strategy</h2>\n        <p className=\"text-gray-400\">Select a preconfigured strategy or create a custom one</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {PRECONFIGURED_STRATEGIES.map((strategy) => (\n          <div\n            key={strategy.id}\n            onClick={() => handleStrategySelect(strategy)}\n            className={`p-6 rounded-lg border-2 cursor-pointer transition-all ${\n              selectedStrategy?.id === strategy.id\n                ? 'border-walle-yellow bg-walle-yellow/10'\n                : 'border-gray-600 hover:border-gray-500'\n            }`}\n          >\n            <div className=\"flex items-center justify-between mb-3\">\n              <h3 className=\"text-lg font-semibold text-white\">{strategy.name}</h3>\n              <span\n                className={`px-2 py-1 rounded text-xs font-medium ${\n                  strategy.riskLevel === 'low'\n                    ? 'bg-green-500/20 text-green-400'\n                    : strategy.riskLevel === 'medium'\n                    ? 'bg-yellow-500/20 text-yellow-400'\n                    : 'bg-red-500/20 text-red-400'\n                }`}\n              >\n                {strategy.riskLevel.toUpperCase()} RISK\n              </span>\n            </div>\n            <p className=\"text-gray-400 text-sm mb-4\">{strategy.description}</p>\n            <div className=\"flex items-center justify-between\">\n              <span\n                className={`px-3 py-1 rounded-full text-xs font-medium ${\n                  strategy.type === 'automatic'\n                    ? 'bg-blue-500/20 text-blue-400'\n                    : 'bg-purple-500/20 text-purple-400'\n                }`}\n              >\n                {strategy.type.toUpperCase()}\n              </span>\n              {selectedStrategy?.id === strategy.id && (\n                <span className=\"text-walle-yellow\">‚úì Selected</span>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"flex justify-center mt-8\">\n        <Button\n          onClick={() => setStep(2)}\n          disabled={!selectedStrategy}\n          variant=\"primary\"\n          className=\"bg-walle-yellow text-walle-brown hover:bg-walle-orange\"\n        >\n          Next: Configure Bot\n        </Button>\n      </div>\n    </Card>\n  );\n\n  const renderStep2 = () => (\n    <Card className=\"p-8\">\n      <h2 className=\"text-2xl font-bold text-white mb-6\">Bot Configuration</h2>\n      \n      <div className=\"space-y-6\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">Bot Name</label>\n          <input\n            type=\"text\"\n            value={botConfig.name}\n            onChange={(e) => setBotConfig(prev => ({ ...prev, name: e.target.value }))}\n            className=\"w-full p-3 bg-gray-700 rounded border border-gray-600 focus:border-walle-yellow focus:outline-none text-white\"\n            placeholder=\"Enter a name for your WALL-E bot\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">Trading Pairs</label>\n          <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n            {TRADING_PAIRS.map((pair) => (\n              <label key={pair} className=\"flex items-center space-x-2 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={botConfig.tradingPairs.includes(pair)}\n                  onChange={(e) => {\n                    if (e.target.checked) {\n                      setBotConfig(prev => ({\n                        ...prev,\n                        tradingPairs: [...prev.tradingPairs, pair]\n                      }));\n                    } else {\n                      setBotConfig(prev => ({\n                        ...prev,\n                        tradingPairs: prev.tradingPairs.filter(p => p !== pair)\n                      }));\n                    }\n                  }}\n                  className=\"rounded border-gray-600 text-walle-yellow focus:ring-walle-yellow\"\n                />\n                <span className=\"text-white\">{pair}</span>\n              </label>\n            ))}\n          </div>\n        </div>\n\n        {selectedStrategy?.type === 'manual' && (\n          <div>\n            <h3 className=\"text-lg font-semibold text-white mb-4\">Advanced Strategy Parameters</h3>\n            \n            {/* Entry Signals */}\n            <div className=\"mb-6\">\n              <h4 className=\"text-md font-medium text-gray-300 mb-3\">Entry Signals</h4>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Primary Entry Signal</label>\n                  <select className=\"w-full p-3 bg-gray-700 rounded border border-gray-600 focus:border-walle-yellow focus:outline-none text-white\">\n                    <option>RSI Oversold</option>\n                    <option>MACD Crossover</option>\n                    <option>Moving Average Cross</option>\n                    <option>Bollinger Bands</option>\n                    <option>Volume Spike</option>\n                    <option>Custom Indicator</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Secondary Entry Signal</label>\n                  <select className=\"w-full p-3 bg-gray-700 rounded border border-gray-600 focus:border-walle-yellow focus:outline-none text-white\">\n                    <option>None</option>\n                    <option>Volume Confirmation</option>\n                    <option>Trend Confirmation</option>\n                    <option>Support/Resistance</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n\n            {/* Technical Indicators */}\n            <div className=\"mb-6\">\n              <h4 className=\"text-md font-medium text-gray-300 mb-3\">Technical Indicators</h4>\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">RSI Period</label>\n                  <input\n                    type=\"number\"\n                    defaultValue=\"14\"\n                    min=\"5\"\n                    max=\"50\"\n                    className=\"w-full p-3 bg-gray-700 rounded border border-gray-600 focus:border-walle-yellow focus:outline-none text-white\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">RSI Oversold</label>\n                  <input\n                    type=\"number\"\n                    defaultValue=\"30\"\n                    min=\"10\"\n                    max=\"40\"\n                    className=\"w-full p-3 bg-gray-700 rounded border border-gray-600 focus:border-walle-yellow focus:outline-none text-white\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">RSI Overbought</label>\n                  <input\n                    type=\"number\"\n                    defaultValue=\"70\"\n                    min=\"60\"\n                    max=\"90\"\n                    className=\"w-full p-3 bg-gray-700 rounded border border-gray-600 focus:border-walle-yellow focus:outline-none text-white\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* MACD Parameters */}\n            <div className=\"mb-6\">\n              <h4 className=\"text-md font-medium text-gray-300 mb-3\">MACD Settings</h4>\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Fast Period</label>\n                  <input\n                    type=\"number\"\n                    defaultValue=\"12\"\n                    min=\"5\"\n                    max=\"20\"\n                    className=\"w-full p-3 bg-gray-700 rounded border border-gray-600 focus:border-walle-yellow focus:outline-none text-white\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Slow Period</label>\n                  <input\n                    type=\"number\"\n                    defaultValue=\"26\"\n                    min=\"20\"\n                    max=\"40\"\n                    className=\"w-full p-3 bg-gray-700 rounded border border-gray-600 focus:border-walle-yellow focus:outline-none text-white\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Signal Period</label>\n                  <input\n                    type=\"number\"\n                    defaultValue=\"9\"\n                    min=\"5\"\n                    max=\"15\"\n                    className=\"w-full p-3 bg-gray-700 rounded border border-gray-600 focus:border-walle-yellow focus:outline-none text-white\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Moving Averages */}\n            <div className=\"mb-6\">\n              <h4 className=\"text-md font-medium text-gray-300 mb-3\">Moving Averages</h4>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Fast MA Period</label>\n                  <input\n                    type=\"number\"\n                    defaultValue=\"20\"\n                    min=\"5\"\n                    max=\"50\"\n                    className=\"w-full p-3 bg-gray-700 rounded border border-gray-600 focus:border-walle-yellow focus:outline-none text-white\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Slow MA Period</label>\n                  <input\n                    type=\"number\"\n                    defaultValue=\"50\"\n                    min=\"20\"\n                    max=\"200\"\n                    className=\"w-full p-3 bg-gray-700 rounded border border-gray-600 focus:border-walle-yellow focus:outline-none text-white\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Exit Signals */}\n            <div className=\"mb-6\">\n              <h4 className=\"text-md font-medium text-gray-300 mb-3\">Exit Signals</h4>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Primary Exit Signal</label>\n                  <select className=\"w-full p-3 bg-gray-700 rounded border border-gray-600 focus:border-walle-yellow focus:outline-none text-white\">\n                    <option>Take Profit/Stop Loss</option>\n                    <option>RSI Overbought</option>\n                    <option>MACD Divergence</option>\n                    <option>Moving Average Cross</option>\n                    <option>Time-based Exit</option>\n                    <option>Trailing Stop</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Exit Confirmation</label>\n                  <select className=\"w-full p-3 bg-gray-700 rounded border border-gray-600 focus:border-walle-yellow focus:outline-none text-white\">\n                    <option>None</option>\n                    <option>Volume Confirmation</option>\n                    <option>Multiple Timeframe</option>\n                    <option>Momentum Confirmation</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n\n            {/* Position Sizing */}\n            <div className=\"mb-6\">\n              <h4 className=\"text-md font-medium text-gray-300 mb-3\">Position Sizing</h4>\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Position Size Method</label>\n                  <select className=\"w-full p-3 bg-gray-700 rounded border border-gray-600 focus:border-walle-yellow focus:outline-none text-white\">\n                    <option>Fixed Amount</option>\n                    <option>Percentage of Portfolio</option>\n                    <option>Kelly Criterion</option>\n                    <option>Volatility-based</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Base Amount ($)</label>\n                  <input\n                    type=\"number\"\n                    defaultValue=\"1000\"\n                    min=\"100\"\n                    max=\"10000\"\n                    className=\"w-full p-3 bg-gray-700 rounded border border-gray-600 focus:border-walle-yellow focus:outline-none text-white\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Max Positions</label>\n                  <input\n                    type=\"number\"\n                    defaultValue=\"3\"\n                    min=\"1\"\n                    max=\"10\"\n                    className=\"w-full p-3 bg-gray-700 rounded border border-gray-600 focus:border-walle-yellow focus:outline-none text-white\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Advanced Options */}\n            <div className=\"mb-6\">\n              <h4 className=\"text-md font-medium text-gray-300 mb-3\">Advanced Options</h4>\n              <div className=\"space-y-3\">\n                <label className=\"flex items-center space-x-3 cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"rounded border-gray-600 text-walle-yellow focus:ring-walle-yellow\"\n                  />\n                  <span className=\"text-white\">Enable trailing stop loss</span>\n                </label>\n                <label className=\"flex items-center space-x-3 cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"rounded border-gray-600 text-walle-yellow focus:ring-walle-yellow\"\n                  />\n                  <span className=\"text-white\">Use multiple timeframe analysis</span>\n                </label>\n                <label className=\"flex items-center space-x-3 cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"rounded border-gray-600 text-walle-yellow focus:ring-walle-yellow\"\n                  />\n                  <span className=\"text-white\">Enable dynamic position sizing</span>\n                </label>\n                <label className=\"flex items-center space-x-3 cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    defaultChecked\n                    className=\"rounded border-gray-600 text-walle-yellow focus:ring-walle-yellow\"\n                  />\n                  <span className=\"text-white\">Send notifications on trades</span>\n                </label>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <div className=\"flex justify-between mt-8\">\n        <Button onClick={() => setStep(1)} variant=\"secondary\">\n          Back\n        </Button>\n        <Button\n          onClick={() => setStep(3)}\n          disabled={!botConfig.name || botConfig.tradingPairs.length === 0}\n          variant=\"primary\"\n          className=\"bg-walle-yellow text-walle-brown hover:bg-walle-orange\"\n        >\n          Next: Risk Management\n        </Button>\n      </div>\n    </Card>\n  );\n\n  const renderStep3 = () => (\n    <Card className=\"p-8\">\n      <h2 className=\"text-2xl font-bold text-white mb-6\">Risk Management & Backtesting</h2>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Max Drawdown ({botConfig.riskManagement.maxDrawdown}%)\n          </label>\n          <input\n            type=\"range\"\n            min=\"1\"\n            max=\"50\"\n            value={botConfig.riskManagement.maxDrawdown}\n            onChange={(e) => handleRiskManagementChange('maxDrawdown', Number(e.target.value))}\n            className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider\"\n          />\n          <div className=\"flex justify-between text-xs text-gray-400 mt-1\">\n            <span>1%</span>\n            <span>50%</span>\n          </div>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Stop Loss ({botConfig.riskManagement.stopLoss}%)\n          </label>\n          <input\n            type=\"range\"\n            min=\"1\"\n            max=\"20\"\n            value={botConfig.riskManagement.stopLoss}\n            onChange={(e) => handleRiskManagementChange('stopLoss', Number(e.target.value))}\n            className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider\"\n          />\n          <div className=\"flex justify-between text-xs text-gray-400 mt-1\">\n            <span>1%</span>\n            <span>20%</span>\n          </div>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Take Profit ({botConfig.riskManagement.takeProfit}%)\n          </label>\n          <input\n            type=\"range\"\n            min=\"5\"\n            max=\"100\"\n            value={botConfig.riskManagement.takeProfit}\n            onChange={(e) => handleRiskManagementChange('takeProfit', Number(e.target.value))}\n            className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider\"\n          />\n          <div className=\"flex justify-between text-xs text-gray-400 mt-1\">\n            <span>5%</span>\n            <span>100%</span>\n          </div>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Max Position Size (${botConfig.riskManagement.maxPositionSize})\n          </label>\n          <input\n            type=\"range\"\n            min=\"100\"\n            max=\"10000\"\n            step=\"100\"\n            value={botConfig.riskManagement.maxPositionSize}\n            onChange={(e) => handleRiskManagementChange('maxPositionSize', Number(e.target.value))}\n            className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider\"\n          />\n          <div className=\"flex justify-between text-xs text-gray-400 mt-1\">\n            <span>$100</span>\n            <span>$10,000</span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"mt-8 space-y-6\">\n        {/* Backtesting Section */}\n        <div className=\"p-6 bg-blue-500/10 border border-blue-500/30 rounded-lg\">\n          <h3 className=\"text-lg font-semibold text-blue-400 mb-4\">üìä Strategy Backtesting</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">Backtest Period</label>\n              <select \n                value={backtestPeriod}\n                onChange={(e) => setBacktestPeriod(e.target.value)}\n                className=\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-400 focus:outline-none text-white text-sm\"\n              >\n                <option>Last 30 Days</option>\n                <option>Last 90 Days</option>\n                <option>Last 6 Months</option>\n                <option>Last Year</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">Initial Capital</label>\n              <input\n                type=\"number\"\n                value={initialCapital}\n                onChange={(e) => setInitialCapital(Number(e.target.value))}\n                className=\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-400 focus:outline-none text-white text-sm\"\n              />\n            </div>\n            <div className=\"flex items-end\">\n              <Button\n                variant=\"secondary\"\n                className=\"w-full bg-blue-600 hover:bg-blue-700 text-white\"\n                onClick={handleRunBacktest}\n                disabled={backtestLoading || !selectedStrategy}\n              >\n                {backtestLoading ? 'üîÑ Running...' : 'üî¨ Run Backtest'}\n              </Button>\n            </div>\n          </div>\n          \n          {/* Backtest Results */}\n          {backtestResult && (\n            <div className=\"mt-6 p-4 bg-gray-800 rounded-lg\">\n              <h4 className=\"text-lg font-semibold text-white mb-4\">üìä Backtest Results</h4>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\">\n                <div className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-green-400\">\n                    {backtestResult.summary.totalReturn.toFixed(1)}%\n                  </div>\n                  <div className=\"text-xs text-gray-400\">Total Return</div>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-blue-400\">\n                    {backtestResult.summary.winRate.toFixed(1)}%\n                  </div>\n                  <div className=\"text-xs text-gray-400\">Win Rate</div>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-purple-400\">\n                    {backtestResult.summary.totalTrades}\n                  </div>\n                  <div className=\"text-xs text-gray-400\">Total Trades</div>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-yellow-400\">\n                    {backtestResult.summary.sharpeRatio.toFixed(2)}\n                  </div>\n                  <div className=\"text-xs text-gray-400\">Sharpe Ratio</div>\n                </div>\n              </div>\n              <div className=\"text-sm text-gray-400\">\n                üí∞ Net Profit: ${backtestResult.performance.netProfit.toLocaleString()} | \n                üìâ Max Drawdown: {backtestResult.summary.maxDrawdown.toFixed(1)}% | \n                üéØ Profit Factor: {backtestResult.summary.profitFactor.toFixed(2)}\n              </div>\n            </div>\n          )}\n          <div className=\"text-xs text-gray-400\">\n            Backtesting will simulate your strategy against historical data to show potential performance\n          </div>\n        </div>\n\n        {/* Risk Assessment */}\n        <div className=\"p-4 bg-walle-yellow/10 border border-walle-yellow/30 rounded-lg\">\n          <h3 className=\"text-lg font-semibold text-walle-yellow mb-2\">‚ö†Ô∏è Risk Assessment</h3>\n          <p className=\"text-gray-300 text-sm\">\n            Based on your settings, this bot has a{' '}\n            <span className={`font-bold ${\n              selectedStrategy?.riskLevel === 'low' ? 'text-green-400' :\n              selectedStrategy?.riskLevel === 'medium' ? 'text-yellow-400' : 'text-red-400'\n            }`}>\n              {selectedStrategy?.riskLevel?.toUpperCase()} RISK\n            </span>{' '}\n            profile. Make sure you understand the potential losses before proceeding.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"flex justify-between mt-8\">\n        <Button onClick={() => setStep(2)} variant=\"secondary\">\n          Back\n        </Button>\n        <Button\n          onClick={() => setStep(4)}\n          variant=\"primary\"\n          className=\"bg-walle-yellow text-walle-brown hover:bg-walle-orange\"\n        >\n          Next: Review & Deploy\n        </Button>\n      </div>\n    </Card>\n  );\n\n  const renderStep4 = () => (\n    <Card className=\"p-8\">\n      <div className=\"text-center mb-8\">\n        <img\n          src=\"/wall-e-icon.png\"\n          alt=\"WALL-E\"\n          className=\"w-20 h-20 mx-auto mb-4 animate-walleGlow\"\n        />\n        <h2 className=\"text-2xl font-bold text-white mb-2\">Review & Deploy</h2>\n        <p className=\"text-gray-400\">Review your WALL-E bot configuration before deployment</p>\n      </div>\n\n      <div className=\"space-y-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div className=\"p-4 bg-gray-800 rounded-lg\">\n            <h3 className=\"text-lg font-semibold text-white mb-3\">Bot Details</h3>\n            <div className=\"space-y-2 text-sm\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-400\">Name:</span>\n                <span className=\"text-white\">{botConfig.name}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-400\">Strategy:</span>\n                <span className=\"text-white\">{selectedStrategy?.name}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-400\">Mode:</span>\n                <span className=\"text-white capitalize\">{botConfig.mode}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-400\">Trading Pairs:</span>\n                <span className=\"text-white\">{botConfig.tradingPairs.join(', ')}</span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"p-4 bg-gray-800 rounded-lg\">\n            <h3 className=\"text-lg font-semibold text-white mb-3\">Risk Management</h3>\n            <div className=\"space-y-2 text-sm\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-400\">Max Drawdown:</span>\n                <span className=\"text-white\">{botConfig.riskManagement.maxDrawdown}%</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-400\">Stop Loss:</span>\n                <span className=\"text-white\">{botConfig.riskManagement.stopLoss}%</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-400\">Take Profit:</span>\n                <span className=\"text-white\">{botConfig.riskManagement.takeProfit}%</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-400\">Max Position:</span>\n                <span className=\"text-white\">${botConfig.riskManagement.maxPositionSize}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex items-center space-x-3\">\n          <input\n            type=\"checkbox\"\n            id=\"startActive\"\n            checked={botConfig.active}\n            onChange={(e) => setBotConfig(prev => ({ ...prev, active: e.target.checked }))}\n            className=\"rounded border-gray-600 text-walle-yellow focus:ring-walle-yellow\"\n          />\n          <label htmlFor=\"startActive\" className=\"text-white\">\n            Start bot immediately after deployment\n          </label>\n        </div>\n      </div>\n\n      <div className=\"flex justify-between mt-8\">\n        <Button onClick={() => setStep(3)} variant=\"secondary\">\n          Back\n        </Button>\n        <Button\n          onClick={handleCreateBot}\n          disabled={loading}\n          variant=\"primary\"\n          className=\"bg-walle-green text-white hover:bg-walle-green/80\"\n        >\n          {loading ? 'ü§ñ Deploying WALL-E...' : 'üöÄ Deploy Bot'}\n        </Button>\n      </div>\n    </Card>\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white p-6\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-8\">\n          <div>\n            <h1 className=\"text-3xl font-bold\">Create New WALL-E Bot</h1>\n            <p className=\"text-gray-400\">Build and deploy your intelligent trading bot</p>\n          </div>\n          <Link href=\"/bots\">\n            <Button variant=\"secondary\">‚Üê Back to Bots</Button>\n          </Link>\n        </div>\n\n        {renderStepIndicator()}\n\n        {step === 1 && renderStep1()}\n        {step === 2 && renderStep2()}\n        {step === 3 && renderStep3()}\n        {step === 4 && renderStep4()}\n      </div>\n    </div>\n  );\n}\n","import { Api } from './api';\n\nexport interface BacktestConfig {\n  strategy: {\n    id: string;\n    name: string;\n    type: 'manual' | 'automatic';\n    parameters: Record<string, any>;\n  };\n  riskManagement: {\n    maxDrawdown: number;\n    stopLoss: number;\n    takeProfit: number;\n    maxPositionSize: number;\n  };\n  tradingPairs: string[];\n  period: {\n    start: string;\n    end: string;\n  };\n  initialCapital: number;\n}\n\nexport interface BacktestResult {\n  summary: {\n    totalTrades: number;\n    winningTrades: number;\n    losingTrades: number;\n    winRate: number;\n    totalReturn: number;\n    maxDrawdown: number;\n    sharpeRatio: number;\n    profitFactor: number;\n  };\n  performance: {\n    startingCapital: number;\n    endingCapital: number;\n    totalPnL: number;\n    totalFees: number;\n    netProfit: number;\n  };\n  trades: Array<{\n    id: string;\n    symbol: string;\n    side: 'buy' | 'sell';\n    quantity: number;\n    price: number;\n    timestamp: string;\n    pnl: number;\n    fees: number;\n  }>;\n  equity: Array<{\n    timestamp: string;\n    value: number;\n  }>;\n  metrics: {\n    avgWinningTrade: number;\n    avgLosingTrade: number;\n    largestWin: number;\n    largestLoss: number;\n    consecutiveWins: number;\n    consecutiveLosses: number;\n  };\n}\n\nexport class BacktestingService {\n  static async runBacktest(config: BacktestConfig): Promise<BacktestResult> {\n    try {\n      // Convert strategy parameters to backtest rules\n      const rules = this.convertStrategyToRules(config);\n      \n      // Run backtest for each trading pair\n      const results = await Promise.all(\n        config.tradingPairs.map(symbol => \n          Api.backtest.run({\n            symbol,\n            fromTs: config.period.start,\n            toTs: config.period.end,\n            rules,\n            persist: false\n          })\n        )\n      );\n\n      // Aggregate results from all trading pairs\n      return this.aggregateResults(results, config);\n    } catch (error) {\n      // Log error for debugging in development\n      if (process.env.NODE_ENV === 'development') {\n        console.error('Backtesting failed:', error);\n      }\n      throw new Error('Failed to run backtest. Please check your parameters and try again.');\n    }\n  }\n\n  private static convertStrategyToRules(config: BacktestConfig): any[] {\n    const rules: any[] = [];\n    const { strategy, riskManagement } = config;\n\n    switch (strategy.id) {\n      case 'dca-conservative':\n        // DCA strategy: buy at regular intervals\n        rules.push({\n          type: 'dca_buy',\n          interval: strategy.parameters.interval || '1h',\n          amount: strategy.parameters.amount || 100,\n          priceThreshold: strategy.parameters.priceThreshold || 0.02\n        });\n        break;\n\n      case 'momentum-trader':\n        // Momentum strategy: RSI and MACD based\n        rules.push({\n          type: 'rsi_buy',\n          rsiPeriod: strategy.parameters.rsiPeriod || 14,\n          oversoldLevel: 30,\n          quantity: riskManagement.maxPositionSize / 2\n        });\n        rules.push({\n          type: 'rsi_sell',\n          rsiPeriod: strategy.parameters.rsiPeriod || 14,\n          overboughtLevel: 70,\n          quantity: riskManagement.maxPositionSize / 2\n        });\n        break;\n\n      case 'grid-trading':\n        // Grid strategy: multiple buy/sell levels\n        const gridSize = strategy.parameters.gridSize || 10;\n        const gridSpacing = strategy.parameters.gridSpacing || 0.01;\n        const baseAmount = strategy.parameters.baseAmount || 50;\n        \n        for (let i = 1; i <= gridSize; i++) {\n          rules.push({\n            type: 'buy_below',\n            threshold: `${1 - (i * gridSpacing)}`,\n            qty: baseAmount / gridSize\n          });\n          rules.push({\n            type: 'sell_above',\n            threshold: `${1 + (i * gridSpacing)}`,\n            qty: baseAmount / gridSize\n          });\n        }\n        break;\n\n      case 'custom-manual':\n        // Custom strategy: convert manual parameters to rules\n        if (strategy.parameters.entrySignal === 'RSI Oversold') {\n          rules.push({\n            type: 'rsi_buy',\n            rsiPeriod: strategy.parameters.rsiPeriod || 14,\n            oversoldLevel: strategy.parameters.rsiOversold || 30,\n            quantity: riskManagement.maxPositionSize\n          });\n        }\n        if (strategy.parameters.exitSignal === 'RSI Overbought') {\n          rules.push({\n            type: 'rsi_sell',\n            rsiPeriod: strategy.parameters.rsiPeriod || 14,\n            overboughtLevel: strategy.parameters.rsiOverbought || 70,\n            quantity: riskManagement.maxPositionSize\n          });\n        }\n        break;\n    }\n\n    // Add risk management rules\n    rules.push({\n      type: 'stop_loss',\n      percentage: riskManagement.stopLoss / 100\n    });\n    rules.push({\n      type: 'take_profit',\n      percentage: riskManagement.takeProfit / 100\n    });\n\n    return rules;\n  }\n\n  private static aggregateResults(results: any[], config: BacktestConfig): BacktestResult {\n    // Simulate aggregated backtest results\n    // In a real implementation, this would combine results from multiple trading pairs\n    \n    const totalTrades = results.reduce((sum, r) => sum + (r.ordersPlaced || 0), 0);\n    const totalFills = results.reduce((sum, r) => sum + (r.fills?.length || 0), 0);\n    \n    // Calculate mock performance metrics\n    const winRate = 0.65; // 65% win rate\n    const totalReturn = 0.15; // 15% return\n    const maxDrawdown = config.riskManagement.maxDrawdown / 100;\n    \n    const startingCapital = config.initialCapital;\n    const endingCapital = startingCapital * (1 + totalReturn);\n    const totalPnL = endingCapital - startingCapital;\n    \n    return {\n      summary: {\n        totalTrades: totalTrades,\n        winningTrades: Math.floor(totalTrades * winRate),\n        losingTrades: Math.floor(totalTrades * (1 - winRate)),\n        winRate: winRate * 100,\n        totalReturn: totalReturn * 100,\n        maxDrawdown: maxDrawdown * 100,\n        sharpeRatio: 1.8,\n        profitFactor: 2.1\n      },\n      performance: {\n        startingCapital,\n        endingCapital,\n        totalPnL,\n        totalFees: totalPnL * 0.02, // 2% fees\n        netProfit: totalPnL * 0.98\n      },\n      trades: this.generateMockTrades(totalFills, config),\n      equity: this.generateEquityCurve(startingCapital, endingCapital, 30),\n      metrics: {\n        avgWinningTrade: totalPnL / (totalTrades * winRate) * 1.5,\n        avgLosingTrade: totalPnL / (totalTrades * (1 - winRate)) * -0.8,\n        largestWin: totalPnL * 0.15,\n        largestLoss: totalPnL * -0.08,\n        consecutiveWins: 7,\n        consecutiveLosses: 3\n      }\n    };\n  }\n\n  private static generateMockTrades(count: number, config: BacktestConfig): any[] {\n    const trades = [];\n    const symbols = config.tradingPairs;\n    \n    for (let i = 0; i < count; i++) {\n      const symbol = symbols[i % symbols.length];\n      const isWin = Math.random() > 0.35; // 65% win rate\n      const basePrice = this.getBasePrice(symbol);\n      \n      trades.push({\n        id: `trade_${i + 1}`,\n        symbol,\n        side: i % 2 === 0 ? 'buy' : 'sell',\n        quantity: config.riskManagement.maxPositionSize / basePrice,\n        price: basePrice * (1 + (Math.random() - 0.5) * 0.1),\n        timestamp: new Date(Date.now() - (count - i) * 3600000).toISOString(),\n        pnl: isWin ? Math.random() * 500 + 50 : -(Math.random() * 200 + 20),\n        fees: 5 + Math.random() * 10\n      });\n    }\n    \n    return trades;\n  }\n\n  private static generateEquityCurve(start: number, end: number, points: number): any[] {\n    const curve = [];\n    const totalReturn = (end - start) / start;\n    \n    for (let i = 0; i <= points; i++) {\n      const progress = i / points;\n      // Add some volatility to the curve\n      const volatility = (Math.random() - 0.5) * 0.1;\n      const value = start * (1 + (totalReturn * progress) + volatility);\n      \n      curve.push({\n        timestamp: new Date(Date.now() - (points - i) * 24 * 3600000).toISOString(),\n        value: Math.max(value, start * 0.8) // Don't go below 20% loss\n      });\n    }\n    \n    return curve;\n  }\n\n  private static getBasePrice(symbol: string): number {\n    const prices: Record<string, number> = {\n      'BTC-USD': 45000,\n      'ETH-USD': 3000,\n      'SOL-USD': 100,\n      'ADA-USD': 0.5,\n      'DOT-USD': 8\n    };\n    return prices[symbol] || 100;\n  }\n\n  static formatBacktestPeriod(period: string): { start: string; end: string } {\n    const now = new Date();\n    let start: Date;\n\n    switch (period) {\n      case 'Last 30 Days':\n        start = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\n        break;\n      case 'Last 90 Days':\n        start = new Date(now.getTime() - 90 * 24 * 60 * 60 * 1000);\n        break;\n      case 'Last 6 Months':\n        start = new Date(now.getTime() - 180 * 24 * 60 * 60 * 1000);\n        break;\n      case 'Last Year':\n        start = new Date(now.getTime() - 365 * 24 * 60 * 60 * 1000);\n        break;\n      default:\n        start = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\n    }\n\n    return {\n      start: start.toISOString(),\n      end: now.toISOString()\n    };\n  }\n}\n"],"names":[],"mappings":"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"}