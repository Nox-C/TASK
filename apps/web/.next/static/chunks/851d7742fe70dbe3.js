(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19036,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},36571,(e,t,a)=>{t.exports=e.r(28041)},89368,e=>{"use strict";var t=e.i(81271),a=e.i(36571),i=e.i(21521);let o=(0,i.createContext)(null);function r({children:e}){let[r,n]=(0,i.useState)(null),[s,u]=(0,i.useState)(!0),l=(0,a.useRouter)();(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();n(t)}}catch(e){console.error("Auth check failed:",e)}finally{u(!1)}})()},[]);let h=async(e,t)=>{let a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!a.ok)throw Error((await a.json()).message||"Login failed");n(await a.json()),l.push("/dashboard")},c=async(e,t,a)=>{let i=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:a})});if(!i.ok)throw Error((await i.json()).message||"Registration failed");n(await i.json()),l.push("/dashboard")},d=async()=>{await fetch("/api/auth/logout",{method:"POST"}),n(null),l.push("/login")};return(0,t.jsx)(o.Provider,{value:{user:r,isAuthenticated:!!r,isLoading:s,login:h,register:c,logout:d},children:e})}function n(){let e=(0,i.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>r,"useAuth",()=>n])}]);