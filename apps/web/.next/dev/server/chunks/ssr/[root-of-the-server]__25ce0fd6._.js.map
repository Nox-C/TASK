{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/nox/TASK/packages/ui/src/index.tsx"],"sourcesContent":["import React from 'react'\n\n// Utility to merge class names\nexport function cn(...classes: Array<string | undefined | false | null>) {\n  return classes.filter(Boolean).join(' ')\n}\n\n// Button component with variants and sizes\nexport interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'default' | 'primary' | 'secondary' | 'danger' | 'ghost' | 'outline'\n  size?: 'sm' | 'md' | 'lg'\n}\n\nexport const Button: React.FC<ButtonProps> = ({\n  className,\n  variant = 'default',\n  size = 'md',\n  disabled,\n  ...props\n}) => {\n  const base = 'inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 ring-offset-gray-900 disabled:opacity-50 disabled:pointer-events-none'\n  const variants: Record<NonNullable<ButtonProps['variant']>, string> = {\n    default: 'bg-gray-200 hover:bg-gray-300 text-gray-900',\n    primary: 'bg-blue-600 hover:bg-blue-700 text-white',\n    secondary: 'bg-gray-700 hover:bg-gray-600 text-gray-100',\n    danger: 'bg-red-600 hover:bg-red-700 text-white',\n    ghost: 'bg-transparent hover:bg-white/5 text-gray-200',\n    outline: 'border border-gray-600 hover:bg-white/5 text-gray-200',\n  }\n  const sizes: Record<NonNullable<ButtonProps['size']>, string> = {\n    sm: 'h-8 px-3 text-sm',\n    md: 'h-10 px-4 text-sm',\n    lg: 'h-12 px-6 text-base',\n  }\n\n  return (\n    <button className={cn(base, variants[variant], sizes[size], className)} disabled={disabled} {...props} />\n  )\n}\n\n// Card component with subtle/elevated variants\nexport interface CardProps extends React.HTMLAttributes<HTMLDivElement> {\n  variant?: 'subtle' | 'elevated' | 'solid'\n}\n\nexport const Card: React.FC<CardProps> = ({ className, variant = 'subtle', ...props }) => {\n  const variants: Record<NonNullable<CardProps['variant']>, string> = {\n    subtle: 'bg-gray-800/80 backdrop-blur border border-gray-700',\n    elevated: 'bg-gray-800/90 backdrop-blur border border-gray-700 shadow-elevated',\n    solid: 'bg-gray-800 border border-gray-700',\n  }\n  return <div className={cn('rounded-xl', variants[variant], className)} {...props} />\n}\n\n// Badge component with statuses\nexport interface BadgeProps extends React.HTMLAttributes<HTMLSpanElement> {\n  variant?: 'default' | 'success' | 'warning' | 'danger' | 'info'\n}\n\nexport const Badge: React.FC<BadgeProps> = ({ className, variant = 'default', ...props }) => {\n  const variants: Record<NonNullable<BadgeProps['variant']>, string> = {\n    default: 'bg-gray-700 text-gray-100 border border-gray-600',\n    success: 'bg-green-500/20 text-green-300 border border-green-600/40',\n    warning: 'bg-yellow-500/20 text-yellow-200 border border-yellow-600/40',\n    danger: 'bg-red-500/20 text-red-300 border border-red-600/40',\n    info: 'bg-blue-500/20 text-blue-300 border border-blue-600/40',\n  }\n  return (\n    <span className={cn('inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium', variants[variant], className)} {...props} />\n  )\n}\n\n// Status pill specialized for health and connectivity\nexport type StatusKind = 'healthy' | 'degraded' | 'down' | 'connected' | 'disconnected' | 'active' | 'inactive'\n\nexport const StatusPill: React.FC<{ status: StatusKind; className?: string }> = ({ status, className }) => {\n  const map: Record<StatusKind, string> = {\n    healthy: 'bg-green-500/20 text-green-400 border border-green-600/30',\n    degraded: 'bg-yellow-500/20 text-yellow-300 border border-yellow-600/30',\n    down: 'bg-red-500/20 text-red-400 border border-red-600/30',\n    connected: 'bg-green-500/20 text-green-400 border border-green-600/30',\n    disconnected: 'bg-red-500/20 text-red-400 border border-red-600/30',\n    active: 'bg-green-500/20 text-green-300 border border-green-600/30',\n    inactive: 'bg-gray-600/30 text-gray-300 border border-gray-600/50',\n  }\n  return <span className={cn('inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium', map[status], className)}>{status}</span>\n}\n\n// KPI Card with accent gradient and slot for sparkline\nexport interface KpiCardProps {\n  title: string\n  value: React.ReactNode\n  hint?: string\n  accent?: 'blue' | 'green' | 'yellow' | 'purple' | 'red' | 'cyan'\n  rightSlot?: React.ReactNode\n  footer?: React.ReactNode\n  className?: string\n}\n\nexport const KpiCard: React.FC<KpiCardProps> = ({ title, value, hint, accent = 'blue', rightSlot, footer, className }) => {\n  const accents: Record<NonNullable<KpiCardProps['accent']>, string> = {\n    blue: 'from-blue-800 to-blue-600 border-blue-500/40',\n    green: 'from-green-800 to-green-600 border-green-500/40',\n    yellow: 'from-yellow-800 to-yellow-600 border-yellow-500/40',\n    purple: 'from-purple-800 to-purple-600 border-purple-500/40',\n    red: 'from-red-800 to-red-600 border-red-500/40',\n    cyan: 'from-cyan-800 to-cyan-600 border-cyan-500/40',\n  }\n  return (\n    <div className={cn('rounded-xl p-6 border shadow-elevated bg-gradient-to-br', accents[accent], className)}>\n      <div className=\"flex items-center justify-between mb-2\">\n        <h3 className=\"text-sm font-semibold text-gray-200\">{title}</h3>\n        {rightSlot}\n      </div>\n      <div className=\"text-3xl font-bold text-white\">{value}</div>\n      {hint && <div className=\"text-xs text-gray-300 mt-1\">{hint}</div>}\n      {footer && <div className=\"mt-3 text-xs text-gray-400\">{footer}</div>}\n    </div>\n  )\n}\n\n// Skeleton loader\nexport interface SkeletonProps extends React.HTMLAttributes<HTMLDivElement> {\n  rounded?: 'sm' | 'md' | 'lg' | 'xl' | 'full'\n}\n\nexport const Skeleton: React.FC<SkeletonProps> = ({ className, rounded = 'md', ...props }) => {\n  const radius: Record<NonNullable<SkeletonProps['rounded']>, string> = {\n    sm: 'rounded',\n    md: 'rounded-md',\n    lg: 'rounded-lg',\n    xl: 'rounded-xl',\n    full: 'rounded-full',\n  }\n  return (\n    <div\n      className={cn('animate-pulse bg-gray-700/60', radius[rounded], className)}\n      {...props}\n    />\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAGO,SAAS,GAAG,GAAG,OAAiD;IACrE,OAAO,QAAQ,MAAM,CAAC,SAAS,IAAI,CAAC;AACtC;AAQO,MAAM,SAAgC,CAAC,EAC5C,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,QAAQ,EACR,GAAG,OACJ;IACC,MAAM,OAAO;IACb,MAAM,WAAgE;QACpE,SAAS;QACT,SAAS;QACT,WAAW;QACX,QAAQ;QACR,OAAO;QACP,SAAS;IACX;IACA,MAAM,QAA0D;QAC9D,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,6WAAC;QAAO,WAAW,GAAG,MAAM,QAAQ,CAAC,QAAQ,EAAE,KAAK,CAAC,KAAK,EAAE;QAAY,UAAU;QAAW,GAAG,KAAK;;;;;;AAEzG;AAOO,MAAM,OAA4B,CAAC,EAAE,SAAS,EAAE,UAAU,QAAQ,EAAE,GAAG,OAAO;IACnF,MAAM,WAA8D;QAClE,QAAQ;QACR,UAAU;QACV,OAAO;IACT;IACA,qBAAO,6WAAC;QAAI,WAAW,GAAG,cAAc,QAAQ,CAAC,QAAQ,EAAE;QAAa,GAAG,KAAK;;;;;;AAClF;AAOO,MAAM,QAA8B,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,GAAG,OAAO;IACtF,MAAM,WAA+D;QACnE,SAAS;QACT,SAAS;QACT,SAAS;QACT,QAAQ;QACR,MAAM;IACR;IACA,qBACE,6WAAC;QAAK,WAAW,GAAG,yEAAyE,QAAQ,CAAC,QAAQ,EAAE;QAAa,GAAG,KAAK;;;;;;AAEzI;AAKO,MAAM,aAAmE,CAAC,EAAE,MAAM,EAAE,SAAS,EAAE;IACpG,MAAM,MAAkC;QACtC,SAAS;QACT,UAAU;QACV,MAAM;QACN,WAAW;QACX,cAAc;QACd,QAAQ;QACR,UAAU;IACZ;IACA,qBAAO,6WAAC;QAAK,WAAW,GAAG,yEAAyE,GAAG,CAAC,OAAO,EAAE;kBAAa;;;;;;AAChI;AAaO,MAAM,UAAkC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,SAAS,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,EAAE;IACnH,MAAM,UAA+D;QACnE,MAAM;QACN,OAAO;QACP,QAAQ;QACR,QAAQ;QACR,KAAK;QACL,MAAM;IACR;IACA,qBACE,6WAAC;QAAI,WAAW,GAAG,2DAA2D,OAAO,CAAC,OAAO,EAAE;;0BAC7F,6WAAC;gBAAI,WAAU;;kCACb,6WAAC;wBAAG,WAAU;kCAAuC;;;;;;oBACpD;;;;;;;0BAEH,6WAAC;gBAAI,WAAU;0BAAiC;;;;;;YAC/C,sBAAQ,6WAAC;gBAAI,WAAU;0BAA8B;;;;;;YACrD,wBAAU,6WAAC;gBAAI,WAAU;0BAA8B;;;;;;;;;;;;AAG9D;AAOO,MAAM,WAAoC,CAAC,EAAE,SAAS,EAAE,UAAU,IAAI,EAAE,GAAG,OAAO;IACvF,MAAM,SAAgE;QACpE,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,MAAM;IACR;IACA,qBACE,6WAAC;QACC,WAAW,GAAG,gCAAgC,MAAM,CAAC,QAAQ,EAAE;QAC9D,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///home/nox/TASK/apps/web/app/lib/api.ts"],"sourcesContent":["export const API_BASE = 'http://localhost:3001'\n\nexport async function fetchJSON<T>(path: string, init?: RequestInit & { timeoutMs?: number }): Promise<T> {\n  const { timeoutMs = 10000, ...rest } = init || {}\n  const controller = new AbortController()\n  const timeout = setTimeout(() => controller.abort(), timeoutMs)\n  try {\n    const res = await fetch(`${API_BASE}${path}`, {\n      ...rest,\n      signal: controller.signal,\n      headers: {\n        'Content-Type': 'application/json',\n        ...(rest.headers || {}),\n      },\n    })\n    if (!res.ok) {\n      const text = await res.text().catch(() => '')\n      throw new Error(`HTTP ${res.status} ${res.statusText} ${text}`)\n    }\n    return (await res.json()) as T\n  } finally {\n    clearTimeout(timeout)\n  }\n}\n\n// Domain API helpers\nexport interface Bot { id: string; name: string; active: boolean; strategyId: string; createdAt: string }\nexport interface PnlSnapshot { totalValue?: number | string; realizedPnl?: number | string; ts?: string }\nexport interface Strategy { id: string; name: string; description?: string }\nexport interface TaskTrigger { id?: string; type: 'cron' | 'webhook'; config: any }\nexport interface TaskAction { id?: string; type: 'bot.start' | 'bot.stop' | 'notify'; config: any }\nexport interface Task { id: string; name: string; triggers: TaskTrigger[]; actions: TaskAction[]; createdAt: string }\nexport interface TaskRun { id: string; taskId: string; status: 'enqueued' | 'running' | 'completed' | 'failed'; startedAt: string; finishedAt?: string }\n\nexport const Api = {\n  bots: {\n    list: () => fetchJSON<Bot[]>(`/bots`),\n    create: (body: { name: string; strategyId: string }) =>\n      fetchJSON(`/bots`, { method: \"POST\", body: JSON.stringify(body) }),\n    start: (id: string) =>\n      fetchJSON<void>(`/bots/${id}/start`, { method: \"POST\" }),\n    stop: (id: string) =>\n      fetchJSON<void>(`/bots/${id}/stop`, { method: \"POST\" }),\n  },\n  strategies: {\n    list: () => fetchJSON<Strategy[]>(`/strategies`),\n  },\n  pnl: {\n    snapshots: (range?: string) =>\n      fetchJSON<PnlSnapshot[]>(\n        `/pnl/snapshots${range ? `?range=${encodeURIComponent(range)}` : \"\"}`\n      ),\n  },\n  tasks: {\n    list: (ownerId?: string) =>\n      fetchJSON<Task[]>(`/tasks${ownerId ? `?ownerId=${ownerId}` : \"\"}`),\n    create: (body: {\n      name: string;\n      triggers: TaskTrigger[];\n      actions: TaskAction[];\n      ownerId?: string;\n    }) => fetchJSON(`/tasks`, { method: \"POST\", body: JSON.stringify(body) }),\n    run: (id: string, actorId?: string) =>\n      fetchJSON<TaskRun>(`/tasks/${id}/run${actorId ? `?actorId=${actorId}` : \"\"}`, { method: \"POST\" }),\n  },\n  backtest: {\n    run: (body: {\n      symbol: string;\n      fromTs?: string;\n      toTs?: string;\n      delayMs?: number;\n      rules?: Array<{\n        symbol: string;\n        type: \"buy_below\" | \"sell_above\";\n        threshold: string;\n        qty: number;\n      }>;\n      persist?: boolean;\n      startBalances?: Array<{ asset: string; amount: number }>;\n      startPositions?: Array<{\n        symbol: string;\n        qty: number;\n        avgPrice?: number;\n      }>;\n    }) =>\n      fetchJSON(`/backtest/run`, {\n        method: \"POST\",\n        body: JSON.stringify(body),\n      }),\n    report: (id: string) => fetchJSON(`/backtest/${id}/report`),\n    metrics: (id: string) => fetchJSON(`/backtest/${id}/metrics`),\n    exportCsv: (id: string) => fetchJSON(`/backtest/${id}/export.csv`),\n  },\n  health: {\n    get: () =>\n      Promise.resolve({\n        api: \"healthy\",\n        database: \"healthy\",\n        worker: \"healthy\",\n        websocket: \"connected\" as const,\n      }),\n  },\n};\n"],"names":[],"mappings":";;;;;;;;AAAO,MAAM,WAAW;AAEjB,eAAe,UAAa,IAAY,EAAE,IAA2C;IAC1F,MAAM,EAAE,YAAY,KAAK,EAAE,GAAG,MAAM,GAAG,QAAQ,CAAC;IAChD,MAAM,aAAa,IAAI;IACvB,MAAM,UAAU,WAAW,IAAM,WAAW,KAAK,IAAI;IACrD,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,GAAG,WAAW,MAAM,EAAE;YAC5C,GAAG,IAAI;YACP,QAAQ,WAAW,MAAM;YACzB,SAAS;gBACP,gBAAgB;gBAChB,GAAI,KAAK,OAAO,IAAI,CAAC,CAAC;YACxB;QACF;QACA,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;YAC1C,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,IAAI,MAAM,CAAC,CAAC,EAAE,IAAI,UAAU,CAAC,CAAC,EAAE,MAAM;QAChE;QACA,OAAQ,MAAM,IAAI,IAAI;IACxB,SAAU;QACR,aAAa;IACf;AACF;AAWO,MAAM,MAAM;IACjB,MAAM;QACJ,MAAM,IAAM,UAAiB,CAAC,KAAK,CAAC;QACpC,QAAQ,CAAC,OACP,UAAU,CAAC,KAAK,CAAC,EAAE;gBAAE,QAAQ;gBAAQ,MAAM,KAAK,SAAS,CAAC;YAAM;QAClE,OAAO,CAAC,KACN,UAAgB,CAAC,MAAM,EAAE,GAAG,MAAM,CAAC,EAAE;gBAAE,QAAQ;YAAO;QACxD,MAAM,CAAC,KACL,UAAgB,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,EAAE;gBAAE,QAAQ;YAAO;IACzD;IACA,YAAY;QACV,MAAM,IAAM,UAAsB,CAAC,WAAW,CAAC;IACjD;IACA,KAAK;QACH,WAAW,CAAC,QACV,UACE,CAAC,cAAc,EAAE,QAAQ,CAAC,OAAO,EAAE,mBAAmB,QAAQ,GAAG,IAAI;IAE3E;IACA,OAAO;QACL,MAAM,CAAC,UACL,UAAkB,CAAC,MAAM,EAAE,UAAU,CAAC,SAAS,EAAE,SAAS,GAAG,IAAI;QACnE,QAAQ,CAAC,OAKH,UAAU,CAAC,MAAM,CAAC,EAAE;gBAAE,QAAQ;gBAAQ,MAAM,KAAK,SAAS,CAAC;YAAM;QACvE,KAAK,CAAC,IAAY,UAChB,UAAmB,CAAC,OAAO,EAAE,GAAG,IAAI,EAAE,UAAU,CAAC,SAAS,EAAE,SAAS,GAAG,IAAI,EAAE;gBAAE,QAAQ;YAAO;IACnG;IACA,UAAU;QACR,KAAK,CAAC,OAmBJ,UAAU,CAAC,aAAa,CAAC,EAAE;gBACzB,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;YACvB;QACF,QAAQ,CAAC,KAAe,UAAU,CAAC,UAAU,EAAE,GAAG,OAAO,CAAC;QAC1D,SAAS,CAAC,KAAe,UAAU,CAAC,UAAU,EAAE,GAAG,QAAQ,CAAC;QAC5D,WAAW,CAAC,KAAe,UAAU,CAAC,UAAU,EAAE,GAAG,WAAW,CAAC;IACnE;IACA,QAAQ;QACN,KAAK,IACH,QAAQ,OAAO,CAAC;gBACd,KAAK;gBACL,UAAU;gBACV,QAAQ;gBACR,WAAW;YACb;IACJ;AACF"}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///home/nox/TASK/apps/web/app/lib/store.ts"],"sourcesContent":["import { create } from 'zustand'\nimport { Api, Bot, PnlSnapshot } from './api'\n\nexport type HealthStatus = 'healthy' | 'degraded' | 'down'\nexport type WsStatus = 'connected' | 'disconnected'\n\nexport interface DashboardStats {\n  totalBots: number\n  activeBots: number\n  totalValue: number\n  dailyPnL: number\n  taskRuns: number\n  successRate: number\n}\n\ninterface DashboardState {\n  loading: boolean\n  error?: string\n  health: { api: HealthStatus; database: HealthStatus; worker: HealthStatus; websocket: WsStatus }\n  stats: DashboardStats\n  bots: Bot[]\n  pnl: PnlSnapshot[]\n  refresh: () => Promise<void>\n}\n\nexport const useDashboardStore = create<DashboardState>((set, get) => ({\n  loading: true,\n  error: undefined,\n  health: { api: 'healthy', database: 'healthy', worker: 'healthy', websocket: 'connected' },\n  stats: { totalBots: 0, activeBots: 0, totalValue: 0, dailyPnL: 0, taskRuns: 0, successRate: 0 },\n  bots: [],\n  pnl: [],\n  refresh: async () => {\n    try {\n      set({ loading: true, error: undefined })\n      const [bots, pnl] = await Promise.all([\n        Api.bots.list(),\n        Api.pnl.snapshots('1d'),\n      ])\n      const totalValue = pnl.reduce((sum, s) => sum + Number(s.totalValue || 0), 0)\n      const dailyPnL = pnl.reduce((sum, s) => sum + Number(s.realizedPnl || 0), 0)\n      set({\n        bots,\n        pnl,\n        stats: {\n          totalBots: bots.length,\n          activeBots: bots.filter(b => b.active).length,\n          totalValue,\n          dailyPnL,\n          taskRuns: 42,\n          successRate: 95.2,\n        },\n        health: { ...get().health, api: 'healthy' },\n        loading: false,\n      })\n    } catch (e: any) {\n      set({ error: e?.message || 'Unknown error', health: { ...get().health, api: 'down' }, loading: false })\n    }\n  },\n}))\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAwBO,MAAM,oBAAoB,IAAA,gRAAM,EAAiB,CAAC,KAAK,MAAQ,CAAC;QACrE,SAAS;QACT,OAAO;QACP,QAAQ;YAAE,KAAK;YAAW,UAAU;YAAW,QAAQ;YAAW,WAAW;QAAY;QACzF,OAAO;YAAE,WAAW;YAAG,YAAY;YAAG,YAAY;YAAG,UAAU;YAAG,UAAU;YAAG,aAAa;QAAE;QAC9F,MAAM,EAAE;QACR,KAAK,EAAE;QACP,SAAS;YACP,IAAI;gBACF,IAAI;oBAAE,SAAS;oBAAM,OAAO;gBAAU;gBACtC,MAAM,CAAC,MAAM,IAAI,GAAG,MAAM,QAAQ,GAAG,CAAC;oBACpC,uIAAG,CAAC,IAAI,CAAC,IAAI;oBACb,uIAAG,CAAC,GAAG,CAAC,SAAS,CAAC;iBACnB;gBACD,MAAM,aAAa,IAAI,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,OAAO,EAAE,UAAU,IAAI,IAAI;gBAC3E,MAAM,WAAW,IAAI,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,OAAO,EAAE,WAAW,IAAI,IAAI;gBAC1E,IAAI;oBACF;oBACA;oBACA,OAAO;wBACL,WAAW,KAAK,MAAM;wBACtB,YAAY,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,EAAE,MAAM;wBAC7C;wBACA;wBACA,UAAU;wBACV,aAAa;oBACf;oBACA,QAAQ;wBAAE,GAAG,MAAM,MAAM;wBAAE,KAAK;oBAAU;oBAC1C,SAAS;gBACX;YACF,EAAE,OAAO,GAAQ;gBACf,IAAI;oBAAE,OAAO,GAAG,WAAW;oBAAiB,QAAQ;wBAAE,GAAG,MAAM,MAAM;wBAAE,KAAK;oBAAO;oBAAG,SAAS;gBAAM;YACvG;QACF;IACF,CAAC"}},
    {"offset": {"line": 344, "column": 0}, "map": {"version":3,"sources":["file:///home/nox/TASK/apps/web/app/page.tsx"],"sourcesContent":["\"use client\";\nimport Link from \"next/link\";\nimport { useEffect } from \"react\";\nimport { KpiCard, StatusPill, Card, Button, Skeleton } from \"@task/ui\";\nimport { useDashboardStore } from \"./lib/store\";\nimport { Api } from \"./lib/api\";\n\ninterface Bot {\n  id: string;\n  name: string;\n  active: boolean;\n  strategyId: string;\n  createdAt: string;\n}\n\ninterface SystemHealth {\n  api: \"healthy\" | \"degraded\" | \"down\";\n  database: \"healthy\" | \"degraded\" | \"down\";\n  worker: \"healthy\" | \"degraded\" | \"down\";\n}\n\nexport default function Page() {\n  const { bots, stats, health, loading, refresh } = useDashboardStore();\n\n  useEffect(() => {\n    refresh();\n    const interval = setInterval(refresh, 30000);\n    return () => clearInterval(interval);\n  }, [refresh]);\n\n  const quickAction = async (action: string, botId?: string) => {\n    try {\n      if (action === \"start\" && botId) {\n        await Api.bots.start(botId);\n      } else if (action === \"stop\" && botId) {\n        await Api.bots.stop(botId);\n      }\n      await refresh();\n    } catch (error) {\n      console.error(\"Quick action failed:\", error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <main className=\"min-h-screen bg-gray-900 text-white p-6\">\n        <div className=\"max-w-7xl mx-auto space-y-6\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"w-16 h-16 bg-gray-700 rounded-xl\" />\n            <div>\n              <div className=\"h-6 w-64 bg-gray-700 rounded mb-2\" />\n              <div className=\"h-4 w-80 bg-gray-700 rounded\" />\n            </div>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n            <Skeleton className=\"h-28\" rounded=\"xl\" />\n            <Skeleton className=\"h-28\" rounded=\"xl\" />\n            <Skeleton className=\"h-28\" rounded=\"xl\" />\n            <Skeleton className=\"h-28\" rounded=\"xl\" />\n          </div>\n          <Skeleton className=\"h-64\" rounded=\"xl\" />\n        </div>\n      </main>\n    );\n  }\n\n  return (\n    <main className=\"min-h-screen bg-gray-900 text-white p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header with WALLe Icon */}\n        <header className=\"mb-8 flex items-center space-x-4\">\n          <img\n            src=\"/wall-e-icon.png\"\n            alt=\"WALLe Trading Bot\"\n            className=\"w-16 h-16 rounded-lg\"\n          />\n          <div>\n            <h1 className=\"text-4xl font-bold mb-2\">TASK Control Panel</h1>\n            <p className=\"text-gray-400\">\n              Advanced Trading Bot Management Dashboard\n            </p>\n          </div>\n        </header>\n\n        {/* WALLe Branding Section */}\n        <div className=\"mb-8 p-6 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg text-center\">\n          <div className=\"flex items-center justify-center space-x-4 mb-4\">\n            <img\n              src=\"/wall-e-icon.png\"\n              alt=\"WALLe\"\n              className=\"w-24 h-24 rounded-xl border-4 border-white shadow-xl\"\n            />\n            <div className=\"text-left\">\n              <h2 className=\"text-3xl font-bold text-white\">WALLE</h2>\n              <p className=\"text-blue-100\">Intelligent Trading Automation</p>\n            </div>\n          </div>\n          <p className=\"text-white text-lg\">\n            Powered by Advanced AI & Machine Learning\n          </p>\n        </div>\n\n        {/* System Health */}\n        <div className=\"mb-6 p-4 bg-gray-800 rounded-lg\">\n          <h2 className=\"text-lg font-semibold mb-3\">System Health</h2>\n          <div className=\"flex space-x-6\">\n            <div className=\"flex items-center\">\n              <div\n                className={`w-3 h-3 rounded-full mr-2 ${\n                  health.api === \"healthy\"\n                    ? \"bg-green-500\"\n                    : health.api === \"degraded\"\n                    ? \"bg-yellow-500\"\n                    : \"bg-red-500\"\n                }`}\n              ></div>\n              <span>API</span>\n            </div>\n            <div className=\"flex items-center\">\n              <div\n                className={`w-3 h-3 rounded-full mr-2 ${\n                  health.database === \"healthy\"\n                    ? \"bg-green-500\"\n                    : health.database === \"degraded\"\n                    ? \"bg-yellow-500\"\n                    : \"bg-red-500\"\n                }`}\n              ></div>\n              <span>Database</span>\n            </div>\n            <div className=\"flex items-center\">\n              <div\n                className={`w-3 h-3 rounded-full mr-2 ${\n                  health.worker === \"healthy\"\n                    ? \"bg-green-500\"\n                    : health.worker === \"degraded\"\n                    ? \"bg-yellow-500\"\n                    : \"bg-red-500\"\n                }`}\n              ></div>\n              <span>Worker</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Enhanced Stats Cards using KpiCard */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n          <KpiCard title=\"Total Bots\" value={stats.totalBots} hint=\"All bots in system\" accent=\"blue\" rightSlot={<img src=\"/wall-e-icon.png\" alt=\"WALLe\" className=\"w-8 h-8 rounded\" />} />\n          <KpiCard title=\"Active Bots\" value={stats.activeBots} hint=\"Currently running\" accent=\"green\" rightSlot={<div className=\"w-8 h-8 bg-green-400 rounded-full animate-pulse\" />} />\n          <KpiCard title=\"Portfolio Value\" value={`${stats.totalValue.toLocaleString()}`} hint=\"Total assets\" accent=\"yellow\" rightSlot={<div className=\"w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center text-yellow-900 font-bold\">$</div>} />\n          <KpiCard title=\"TASK Runs\" value={stats.taskRuns} hint=\"Automations executed\" accent=\"purple\" rightSlot={<div className=\"w-8 h-8 bg-purple-400 rounded animate-spin\" />} />\n        </div>\n\n        {/* Enhanced Navigation */}\n        <nav className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8\">\n          <Link\n            href=\"/dashboard\"\n            className=\"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 p-4 rounded-lg text-center transition-all transform hover:scale-105 shadow-lg\"\n          >\n            <div className=\"flex items-center justify-center mb-2\">\n              <img\n                src=\"/wall-e-icon.png\"\n                alt=\"WALLe\"\n                className=\"w-8 h-8 rounded mr-2\"\n              />\n              <h3 className=\"font-semibold\">Dashboard</h3>\n            </div>\n            <p className=\"text-sm text-blue-200\">System Overview</p>\n          </Link>\n          <Link\n            href=\"/markets\"\n            className=\"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 p-4 rounded-lg text-center transition-all transform hover:scale-105 shadow-lg\"\n          >\n            <div className=\"flex items-center justify-center mb-2\">\n              <div className=\"w-8 h-8 bg-green-400 rounded-full mr-2 animate-pulse\"></div>\n              <h3 className=\"font-semibold\">Markets</h3>\n            </div>\n            <p className=\"text-sm text-green-200\">Charts & Watchlist</p>\n          </Link>\n          <Link\n            href=\"/bots\"\n            className=\"bg-gradient-to-r from-yellow-600 to-yellow-700 hover:from-yellow-700 hover:to-yellow-800 p-4 rounded-lg text-center transition-all transform hover:scale-105 shadow-lg\"\n          >\n            <div className=\"flex items-center justify-center mb-2\">\n              <img\n                src=\"/wall-e-icon.png\"\n                alt=\"WALLe\"\n                className=\"w-8 h-8 rounded mr-2\"\n              />\n              <h3 className=\"font-semibold\">Bots</h3>\n            </div>\n            <p className=\"text-sm text-yellow-200\">Manage Trading Bots</p>\n          </Link>\n          <Link\n            href=\"/tasks\"\n            className=\"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 p-4 rounded-lg text-center transition-all transform hover:scale-105 shadow-lg\"\n          >\n            <div className=\"flex items-center justify-center mb-2\">\n              <div className=\"w-8 h-8 bg-purple-400 rounded animate-spin mr-2\"></div>\n              <h3 className=\"font-semibold\">TASK Studio</h3>\n            </div>\n            <p className=\"text-sm text-purple-200\">Automation</p>\n          </Link>\n          <Link\n           \n            href=\"/backtest\"\n            className=\"bg-gradient-to-r from-cyan-600 to-cyan-700 hover:from-cyan-700 hover:to-cyan-800 p-4 rounded-lg text-center transition-all transform hover:scale-105 shadow-lg\"\n          >\n            <div className=\"flex items-center justify-center mb-2\">\n              <div className=\"w-8 h-8 bg-cyan-400 rounded mr-2\"></div>\n              <h3 className=\"font-semibold\">Backtest Lab</h3>\n            </div>\n            <p className=\"text-sm text-cyan-200\">Replay & Reports</p>\n          </Link>\n        </nav>\n\n        {/* Enhanced Active Bots List */}\n        <div className=\"bg-gradient-to-br from-gray-800 to-gray-700 rounded-lg p-6 mb-8 border border-gray-600 shadow-xl\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <div className=\"flex items-center space-x-3\">\n              <img\n                src=\"/wall-e-icon.png\"\n                alt=\"WALLe\"\n                className=\"w-10 h-10 rounded\"\n              />\n              <h2 className=\"text-2xl font-bold text-white\">\n                Active WALLe Bots\n              </h2>\n            </div>\n            <Link\n              href=\"/bots\"\n              className=\"text-blue-400 hover:text-blue-300 transition-colors\"\n            >\n              View All â†’\n            </Link>\n          </div>\n          <div className=\"space-y-3\">\n            {bots\n              .filter((bot) => bot.active)\n              .slice(0, 5)\n              .map((bot) => (\n                <div\n                  key={bot.id}\n                  className=\"flex justify-between items-center p-4 bg-gray-900 rounded-lg border border-gray-600 hover:border-blue-400 transition-colors\"\n                >\n                  <div className=\"flex items-center space-x-3\">\n                    <img\n                      src=\"/wall-e-icon.png\"\n                      alt=\"WALLe Bot\"\n                      className=\"w-8 h-8 rounded\"\n                    />\n                    <div>\n                      <h4 className=\"font-semibold text-white\">{bot.name}</h4>\n                      <p className=\"text-sm text-gray-400\">\n                        Strategy: {bot.strategyId}\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <StatusPill status=\"active\" />\n                    <Button onClick={() => quickAction(\"stop\", bot.id)} variant=\"danger\" size=\"sm\">\n                      Stop\n                    </Button>\n                  </div>\n                </div>\n              ))}\n            {bots.filter((bot) => bot.active).length === 0 && (\n              <div className=\"text-center py-8\">\n                <img\n                  src=\"/wall-e-icon.png\"\n                  alt=\"WALLe\"\n                  className=\"w-16 h-16 rounded mx-auto mb-4 opacity-50\"\n                />\n                <p className=\"text-gray-400\">No active WALLe bots running</p>\n                <p className=\"text-sm text-gray-500 mt-2\">\n                  Start a bot to begin automated trading\n                </p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Enhanced Latest TASK Runs */}\n        <div className=\"bg-gradient-to-br from-gray-800 to-gray-700 rounded-lg p-6 border border-gray-600 shadow-xl\">\n          <div className=\"flex items-center space-x-3 mb-4\">\n            <img\n              src=\"/wall-e-icon.png\"\n              alt=\"WALLe\"\n              className=\"w-10 h-10 rounded\"\n            />\n            <h2 className=\"text-2xl font-bold text-white\">\n              Latest WALLe TASK Runs\n            </h2>\n          </div>\n          <div className=\"space-y-3\">\n            <div className=\"text-center py-8\">\n              <div className=\"w-16 h-16 bg-purple-600 rounded-full mx-auto mb-4 animate-pulse\"></div>\n              <p className=\"text-gray-400\">No recent WALLe task runs</p>\n              <p className=\"text-sm text-gray-500 mt-2\">\n                TASK automation history will appear here\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}